<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Voriel – Submit a Home Service Request</title>
  <meta name="description"
    content="Submit your home service request through Voriel and get matched with local professionals ready to assist with your household needs.">
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      /* Тёмная тема по умолчанию */
      --bg: #050505;
      --card-bg: #18181b;
      --text-main: #f9fafb;
      --text-muted: #a1a1aa;
      --border: #27272f;
      --accent: #fbbf24;
      --accent-dark: #f59e0b;
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.7);
      --radius-lg: 16px;
      --radius-full: 999px;

      /* фон под overlay */
      --background: #000000;

      /* центр фокуса (будем обновлять из JS) */
      --focus-x: 50%;
      --focus-y: 40%;
    }

    body {
      font-family: "Nunito", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #18181b 0, #050505 45%, #000000 100%);
      color: var(--text-main);
      line-height: 1.5;
      min-height: 100vh;
      font-size: clamp(16px, 1.1vw, 20px);
    }

    header {
      padding: 18px 24px;
      display: flex;
      justify-content: center;
      border-bottom: 1px solid rgba(39, 39, 47, 0.9);
      backdrop-filter: blur(10px);
      background: rgba(24, 24, 27, 0.9);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .header-inner {
      width: 100%;
      max-width: 1000px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      color: inherit;
      cursor: pointer;
    }

    .brand-logo {
      height: 26px;
      width: auto;
      display: block;
      border-radius: 6px;
    }

    .brand-name {
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .header-tagline {
      color: var(--text-muted);
      white-space: nowrap;
    }

    main {
      max-width: 1000px;
      margin: 32px auto 40px;
      padding: 0 16px;
    }

    .hero {
      margin-bottom: 24px;
    }

    .hero-eyebrow {
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--accent);
      font-weight: 600;
      margin-bottom: 8px;
    }

    .hero h1 {
      line-height: 1.2;
      margin-bottom: 10px;
    }

    .hero p {
      color: var(--text-muted);
      max-width: 620px;
    }

    .hero-list {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px 14px;
      color: var(--text-muted);
    }

    .hero-list span::before {
      content: "•";
      margin-right: 6px;
      color: #9ca3af;
    }

    .content {
      display: grid;
      grid-template-columns: minmax(0, 1.8fr) minmax(0, 1.4fr);
      gap: 24px;
      align-items: flex-start;
      margin-top: 16px;
    }

    @media (max-width: 820px) {
      .content {
        grid-template-columns: 1fr;
      }

      .header-tagline {
        display: none;
      }
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      padding: 20px 18px;
      box-shadow: var(--shadow-soft);
      border: 1px solid var(--border);
    }

    .card-secondary {
      box-shadow: none;
      border-style: dashed;
    }

    form .field {
      margin-bottom: 14px;
    }

    form label {
      display: block;
      font-weight: 500;
      margin-bottom: 4px;
    }

    form input,
    form select,
    form textarea {
      width: 100%;
      padding: 9px 11px;
      border-radius: 10px;
      border: 1px solid #3f3f46;
      outline: none;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
      background: #111111;
      color: var(--text-main);
    }

    form input::placeholder,
    form textarea::placeholder {
      color: #6b7280;
    }

    form input:focus,
    form select:focus,
    form textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(245, 158, 11, 0.45);
      background: #09090b;
    }

    .field-error input,
    .field-error select,
    .field-error textarea {
      border-color: #f97373;
      box-shadow: 0 0 0 1px rgba(248, 113, 113, 0.7);
    }

    .field-error label {
      color: #fecaca;
    }

    form textarea {
      min-height: 80px;
      resize: vertical;
    }

    .button-primary {
      width: 100%;
      padding: 12px 18px;
      border-radius: var(--radius-full);
      border: none;
      font-weight: 600;
      cursor: pointer;

      /* градиент кнопки */
      background: linear-gradient(135deg,
          #fbbf24 0%,
          #f59e0b 60%,
          #d97706 100%);
      color: #fefce8;

      /* как в React-версии: grid-стек */
      display: inline-grid;
      place-items: center;
      grid-template-areas: "stack";

      /* мягкая тень */
      box-shadow:
        0 4px 12px rgba(0, 0, 0, 0.25),
        0 2px 4px rgba(0, 0, 0, 0.35);

      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out, opacity 0.12s ease-out;
    }

    .button-primary:hover {
      transform: translateY(-1px);
      box-shadow:
        0 6px 18px rgba(0, 0, 0, 0.35),
        0 3px 6px rgba(0, 0, 0, 0.4);
      opacity: 1;
    }

    .button-primary:active {
      transform: translateY(0);
      box-shadow:
        0 3px 10px rgba(0, 0, 0, 0.3),
        0 1px 3px rgba(0, 0, 0, 0.35);
    }

    .button-primary:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
      box-shadow:
        0 3px 8px rgba(0, 0, 0, 0.25),
        0 1px 3px rgba(0, 0, 0, 0.35);
    }

    .button-primary .button-label,
    .button-primary .button-spinner {
      grid-area: stack;
    }

    .button-primary .button-label {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .button-primary .button-spinner {
      width: 20px;
      height: 20px;
      border-radius: 999px;
      border: 2px solid rgba(254, 252, 232, 0.25);
      border-top-color: #fefce8;
      animation: button-spin 0.7s linear infinite;
      opacity: 0;
      pointer-events: none;
    }

    .button-primary.is-pending .button-label {
      visibility: hidden;
    }

    .button-primary.is-pending .button-spinner {
      opacity: 1;
    }

    @keyframes button-spin {
      to {
        transform: rotate(360deg);
      }
    }

    .small-text {
      color: var(--text-muted);
      margin-top: 6px;
    }

    .small-text a {
      color: var(--accent);
      text-decoration: underline;
    }

    .hero h1 {
      font-size: clamp(26px, 3vw, 38px);
      line-height: 1.2;
    }

    .hero p,
    .hero-list,
    .steps,
    .section-title,
    footer,
    .header-tagline {
      font-size: clamp(14px, 1.1vw, 18px);
    }

    form label {
      font-size: clamp(14px, 1.1vw, 18px);
    }

    form input,
    form select,
    form textarea {
      font-size: clamp(16px, 1.3vw, 20px);
    }

    .button-primary {
      font-size: clamp(16px, 1.3vw, 20px);
    }

    .small-text {
      font-size: clamp(13px, 1vw, 17px);
    }

    .section-title {
      font-weight: 600;
      margin-bottom: 6px;
    }

    .steps {
      color: var(--text-muted);
      margin-left: 18px;
      margin-top: 4px;
    }

    .steps li {
      margin-bottom: 4px;
    }

    .pill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .pill {
      padding: 5px 9px;
      border-radius: 999px;
      background: #292524;
      color: #fed7aa;
    }

    .meta {
      margin-top: 14px;
    }

    footer {
      text-align: center;
      color: #6b7280;
      padding: 16px;
      margin-top: 8px;
      margin-bottom: 40px;
      font-size: clamp(15px, 1.2vw, 19px);
    }

    footer a {
      color: var(--accent);
      text-decoration: underline;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    #form-status {
      margin-top: 6px;
      margin-bottom: 12px;
      line-height: 1.4;
    }

    @media (max-width: 600px) {
      body {
        font-size: 18px;
        padding-bottom: 80px;
      }

      .hero-eyebrow {
        font-size: 14px;
      }

      .hero h1 {
        font-size: 26px;
      }

      .hero p {
        font-size: 16px;
      }

      .hero-list {
        font-size: 15px;
      }

      .section-title {
        font-size: 17px;
      }

      .steps {
        font-size: 15px;
      }

      .small-text,
      .header-tagline {
        font-size: 14px;
      }

      form label {
        font-size: 16px;
      }

      form input,
      form select,
      form textarea {
        font-size: 17px;
        padding: 12px 14px;
        border-radius: 12px;
        min-height: 48px;
      }

      .button-primary {
        font-size: 17px;
        padding: 14px 18px;
      }

      #form-status {
        font-size: 15px;
        margin-top: 8px;
        margin-bottom: 14px;
      }

      select {
        appearance: none;
        -webkit-appearance: none;
        background-image: url("data:image/svg+xml;utf8,<svg fill='white' width='14' height='14' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'><path d='M5.25 7.5L10 12.25L14.75 7.5H5.25Z'/></svg>");
        background-repeat: no-repeat;
        background-position: right 14px center;
        background-size: 14px;
      }
    }

    .bg-dots {
      position: fixed;
      inset: 0;
      z-index: -2;
      pointer-events: none;
      background-image: radial-gradient(rgba(148, 163, 184, 0.7) 1px, transparent 1px);
      background-size: 22px 22px;
      opacity: 0.45;
    }

    .bg-fade-overlay {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      background:
        radial-gradient(circle at var(--focus-x) var(--focus-y),
          #050505 0%,
          #050505 35%,
          rgba(5, 5, 5, 0.9) 55%,
          rgba(5, 5, 5, 0.0) 85%);
    }
  </style>
</head>

<body>
  <!-- Фон из точек -->
  <div class="bg-dots"></div>
  <!-- Оверлей, который очищает центр вокруг интерфейса -->
  <div class="bg-fade-overlay"></div>

  <header>
    <div class="header-inner">
      <a href="/" class="brand">
        <img src="logo-voriel.png" alt="Voriel logo" class="brand-logo" />
        <div class="brand-name">VORIEL</div>
      </a>

      <div class="header-tagline">
        Local home services · Triangle, NC
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-eyebrow">Local home services</div>
      <h1>Voriel connects homeowners with local pros in minutes.</h1>
      <p>
        Tell us what you need and your ZIP code. We send your request to independent
        contractors in Raleigh, Durham, Cary, Apex, Garner and Wake Forest, who may contact you directly.
      </p>
      <div class="hero-list">
        <span><b>Handyman</b></span>
        <span><b>Painting</b></span>
        <span><b>Cleaning</b></span>
        <span><b>Landscaping & yardwork</b></span>
        <span><b>Appliance repair</b></span>
      </div>
    </section>

    <!-- этот контейнер будем использовать как «центр интерфейса» для fade -->
    <section class="content" id="focus-area">
      <!-- Lead capture card -->
      <div class="card">
        <form id="lead-form"
          action="https://script.google.com/macros/s/AKfycbx06PsQLSA3pD-WVs29Sif2yz84nBIg5tvx2vVJNGhPVdiOgB94E6QQr-5Tag0mSqtMiw/exec"
          method="POST">

          <!-- Honeypot field (anti-spam) -->
          <div class="field" style="position:absolute; left:-9999px; top:-9999px; opacity:0;">
            <label for="website">Website</label>
            <input id="website" name="website" type="text" autocomplete="off" tabindex="-1" />
          </div>

          <div class="field">
            <label for="name">Name</label>
            <input id="name" name="name" type="text" autocomplete="name" required minlength="2" maxlength="40" />
          </div>

          <div class="field">
            <label for="phone">Phone</label>
            <input id="phone" name="phone" type="tel" inputmode="tel" placeholder="(555) 123-4567" autocomplete="tel"
              required />
          </div>

          <div class="field">
            <label for="zip">ZIP code</label>
            <input id="zip" name="zip" type="text" maxlength="5" inputmode="numeric" pattern="[0-9]{5}"
              placeholder="e.g. 27601" required />
          </div>

          <div class="field">
            <label for="service">What do you need help with?</label>
            <select id="service" name="service" required>
              <option value="">Select a service</option>
              <option value="handyman">Handyman (small repairs)</option>
              <option value="painting">Painting</option>
              <option value="cleaning">Home / apartment cleaning</option>
              <option value="landscaping">Landscaping / yardwork</option>
              <option value="appliance_repair">Appliance repair</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="field">
            <label for="description">Describe your job</label>
            <textarea id="description" name="description"
              placeholder="Example: fix leaking faucet in kitchen, repaint 2 rooms, mow front & back yard..."
              required></textarea>
          </div>

          <p id="form-status" class="small-text" style="display:none;" role="alert" aria-live="polite"></p>

          <button type="submit" class="button-primary" id="submit-button">
            <span class="button-label">Send Request</span>
            <span class="button-spinner" aria-hidden="true"></span>
          </button>

          <p class="small-text">
            By submitting, you agree to be contacted by independent contractors about your request by phone or text, and
            you confirm that you have read and agree to our
            <a href="/disclaimer">Disclaimer</a>, <a href="/terms">Terms of Service</a>, and
            <a href="/privacy">Privacy Policy</a>.
          </p>

          <input type="hidden" id="source" name="source" />
          <input type="hidden" id="referrer" name="referrer" />
          <input type="hidden" id="userAgent" name="userAgent" />
          <input type="hidden" id="ip" name="ip" />
        </form>
      </div>

      <!-- Info / trust / disclaimer card -->
      <div class="card card-secondary">
        <h2 class="section-title">How Voriel works</h2>
        <ol class="steps">
          <li>Share your job details and ZIP code.</li>
          <li>We share your request with independent local contractors who may be interested.</li>
          <li>Contractors contact you directly with quotes and availability.</li>
        </ol>

        <div class="meta">
          <h3 class="section-title">Service area</h3>
          <p class="small-text">
            Raleigh, Durham, Cary, Apex, Garner, Wake Forest and nearby ZIP codes in the Triangle area.
          </p>
        </div>

        <div class="meta">
          <h3 class="section-title">Important notice</h3>
          <p class="small-text">
            Voriel is a technology, marketing, and lead-generation platform. We are not a contractor and do not perform,
            supervise, or guarantee any home services. All work is performed by independent third-party contractors who
            operate on their own behalf and are solely responsible for their licensing, insurance, pricing, and quality.
            You are responsible for verifying any contractor’s qualifications before hiring.
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    © <span id="year"></span> Voriel. All rights reserved.
    <br />
    <a href="/">Home</a> ·
    <a href="/disclaimer/">Disclaimer</a> ·
    <a href="/terms/">Terms</a> ·
    <a href="/privacy/">Privacy</a> ·
    <a href="/legal/">Legal</a>
  </footer>

  <script>
    // =========================
    // Source / Referrer / UserAgent tracking
    // =========================
    function getQueryParam(name) {
      var params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    window.addEventListener('load', function () {
      var sourceInput = document.getElementById('source');
      var referrerInput = document.getElementById('referrer');
      var uaInput = document.getElementById('userAgent');

      // 1) source (метка в URL)
      var src =
        getQueryParam('src') ||
        getQueryParam('utm_source') ||
        'direct';

      if (sourceInput) {
        sourceInput.value = src;
      }

      // 2) referrer (реальное место клика)
      var ref = document.referrer || 'direct';

      if (referrerInput) {
        referrerInput.value = ref;
      }

      // 3) user agent (браузер и устройство)
      if (uaInput) {
        uaInput.value = navigator.userAgent || 'unknown';
      }
    });

    // IP через внешний сервис
    fetch('https://api.ipify.org?format=json')
      .then(function (res) { return res.json(); })
      .then(function (data) {
        var ipInput = document.getElementById('ip');
        if (ipInput && data && data.ip) {
          ipInput.value = data.ip;
        }
      })
      .catch(function (err) {
        console.log('IP fetch error', err);
      });

    // =========================
    // Footer year
    // =========================
    document.getElementById('year').textContent = new Date().getFullYear();

    // =========================
    // Обновляем позицию «ореола» вокруг интерфейса
    // =========================
    function updateFocusPosition() {
      const el = document.getElementById('focus-area');
      if (!el) return;

      const rect = el.getBoundingClientRect();
      const centerX = (rect.left + rect.width / 2) / window.innerWidth * 100;
      const centerY = (rect.top + rect.height / 2) / window.innerHeight * 100;

      document.documentElement.style.setProperty('--focus-x', centerX + '%');
      document.documentElement.style.setProperty('--focus-y', centerY + '%');
    }

    window.addEventListener('load', updateFocusPosition);
    window.addEventListener('resize', updateFocusPosition);

    // =========================
    // Form handling
    // =========================
    const form = document.getElementById('lead-form');
    const status = document.getElementById('form-status');
    const submitBtn = form.querySelector('button[type="submit"]');
    let isSubmitting = false;

    form.addEventListener('submit', async function (event) {
      event.preventDefault();

      if (isSubmitting) return;

      status.style.display = 'none';

      const validation = validateForm();

      document.querySelectorAll('.field.field-error').forEach(function (el) {
        el.classList.remove('field-error');
      });

      if (!validation.ok) {
        status.textContent = validation.message;
        status.style.color = '#f97373';
        status.style.display = 'block';

        // убираем старую подсветку
        document.querySelectorAll('.field.field-error').forEach(function (el) {
          el.classList.remove('field-error');
        });

        const isMobile = window.innerWidth <= 768;

        if (validation.fieldId) {
          const input = document.getElementById(validation.fieldId);
          if (input) {
            const fieldWrapper = input.closest('.field');
            if (fieldWrapper) {
              fieldWrapper.classList.add('field-error');
            }

            if (!isMobile) {
              // десктоп: фокус + скролл к полю
              input.focus();
              fieldWrapper.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
          }
        }

        if (isMobile) {
          // мобильный: ждём, пока спрячется клавиатура, и потом скроллим к тексту ошибки
          setTimeout(function () {
            status.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }, 300);
        }

        return;
      }

      // Mark as submitting + disable button + показать спиннер
      isSubmitting = true;
      submitBtn.disabled = true;
      submitBtn.classList.add('is-pending');

      form.name.value = validation.values.name;
      form.phone.value = validation.values.phone;
      form.zip.value = validation.values.zip;
      form.service.value = validation.values.service;
      form.description.value = validation.values.description;

      const data = new FormData(form);

      try {
        const response = await fetch(form.action, {
          method: form.method,
          body: data,
          headers: { Accept: 'application/json' }
        });

        if (response.ok) {
          form.reset();
          status.textContent =
            'Thank you. We received your request and will route it to local pros shortly.';
          status.style.color = '#4ade80';
          status.style.display = 'block';
        } else {
          status.textContent =
            'Something went wrong. Please try again or contact us directly.';
          status.style.color = '#f97373';
          status.style.display = 'block';
        }
      } catch (error) {
        status.textContent =
          'Network error. Please check your connection and try again.';
        status.style.color = '#f97373';
        status.style.display = 'block';
      } finally {
        isSubmitting = false;
        submitBtn.disabled = false;
        submitBtn.classList.remove('is-pending');
      }
    });

    // =========================
    // Form validation
    // =========================
    function validateForm() {
      const name = form.name.value.trim();
      const phoneRaw = form.phone.value.trim();
      const zip = form.zip.value.trim();
      const service = form.service.value;
      const description = form.description.value.trim();

      const phoneDigits = phoneRaw.replace(/\D/g, '');
      let normalizedPhone = phoneDigits;

      const MIN_DESC = 10;
      const MAX_DESC = 500;

      const allowedZips = [
        // Raleigh
        "27601", "27602", "27603", "27604", "27605", "27606", "27607", "27608", "27609", "27610",
        "27611", "27612", "27613", "27614", "27615", "27616", "27617", "27619", "27620", "27621",
        "27622", "27623", "27624", "27625", "27626", "27627", "27628", "27629", "27634", "27635",
        "27636", "27640", "27650", "27656", "27658", "27661", "27668", "27675", "27676", "27690",
        "27695", "27697", "27698", "27699",

        // Cary
        "27511", "27512", "27513", "27518", "27519",

        // Apex
        "27502", "27523", "27539",

        // Garner
        "27529",

        // Wake Forest
        "27587", "27588",

        // Holly Springs
        "27540",

        // Fuquay-Varina
        "27526",

        // Morrisville
        "27560",

        // Knightdale
        "27545",

        // Rolesville
        "27571",

        // Wendell
        "27591",

        // Zebulon
        "27597",

        // Durham
        "27701", "27702", "27703", "27704", "27705", "27706", "27707", "27708",
        "27709", "27710", "27711", "27712", "27713", "27715", "27717", "27722",

        // Chapel Hill
        "27514", "27515", "27516", "27517", "27599",

        // Carrboro
        "27510",

        // Clayton
        "27520", "27527", "27528",

        // Youngsville
        "27596"
      ];

      const MIN_NAME = 2;
      const MAX_NAME = 40;
      const namePattern = /^[a-zA-Zа-яА-ЯёЁ .'-]+$/;

      if (!name) {
        return { ok: false, fieldId: 'name', message: 'Please enter your name.' };
      }

      if (name.length < MIN_NAME || name.length > MAX_NAME) {
        return {
          ok: false,
          fieldId: 'name',
          message: `Name must be between ${MIN_NAME} and ${MAX_NAME} characters.`
        };
      }

      if (!namePattern.test(name)) {
        return {
          ok: false,
          fieldId: 'name',
          message: 'Name can only include letters, spaces, hyphens, apostrophes, and periods.'
        };
      }

      if (phoneDigits.length === 11 && phoneDigits[0] === '1') {
        normalizedPhone = phoneDigits.slice(1);
      } else if (phoneDigits.length !== 10) {
        return {
          ok: false,
          fieldId: 'phone',
          message: 'Invalid phone number. Use a U.S. number (10 digits).'
        };
      }

      if (!/^\d{5}$/.test(zip)) {
        return {
          ok: false,
          fieldId: 'zip',
          message: 'Invalid ZIP code. Use 5 digits.'
        };
      }

      if (!allowedZips.includes(zip)) {
        return {
          ok: false,
          fieldId: 'zip',
          message: 'Sorry, Voriel is not available in this ZIP yet.'
        };
      }

      if (!service) {
        return {
          ok: false,
          fieldId: 'service',
          message: 'Please select a service.'
        };
      }

      if (description.length < MIN_DESC) {
        return {
          ok: false,
          fieldId: 'description',
          message: `Description is too short. Minimum ${MIN_DESC} characters.`
        };
      }

      if (description.length > MAX_DESC) {
        return {
          ok: false,
          fieldId: 'description',
          message: `Description is too long. Maximum ${MAX_DESC} characters allowed.`
        };
      }

      return {
        ok: true,
        values: {
          name,
          phone: normalizedPhone,
          zip,
          service,
          description
        }
      };
    }
  </script>
</body>

</html>